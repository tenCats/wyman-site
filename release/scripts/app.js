var page=[];page[0]={},page[0].name="loading",page[0].loaded=function(){var e=document.querySelector("#mask");e.style.opacity=0,setTimeout(function(){e.style.display="none"},300)},page[1]={},page[1].name="cover",page[1].id="#load",page[1].init=function(){var e=document.querySelector("#load-next"),n=document.querySelector("#load"),s=0,t=0;n.addEventListener("mousedown",function(e){s=e.pageY}),n.addEventListener("mouseup",function(e){e.pageY-s<-100&&page[1].slideUp(),s=0}),n.addEventListener("touchstart",function(e){t=e.pageY}),n.addEventListener("touchend",function(e){e.pageY-t<-100&&page[1].slideUp(),t=0}),e.addEventListener("click",function(){page[1].slideUp()})},page[1].slideUp=function(){var e=document.querySelector(this.id);e.classList.add("page-hide-up"),page[1].bg.holdBreath()},page[1].slideDown=function(){var e=document.querySelector(this.id);e.classList.remove("page-hide-up"),page[1].bg.breath()},page[1].anime=function(){function e(){s[0].classList.add("before-type"),s[1].classList.add("before-type"),t.classList.add("before-type")}function n(){s[0].classList.add("typing"),s[0].classList.remove("before-type"),setTimeout(function(){s[1].classList.add("typing"),s[1].classList.remove("before-type"),setTimeout(function(){t.classList.remove("before-type"),t.classList.add("button-blink")},2e3)},2500)}var s=document.querySelectorAll("#load-type > p"),t=document.querySelector("#load-next");return{init:e,start:n}}(),page[1].bg=new pixelArt(["images/wyman-1.jpg","images/wyman-2.jpg","images/wyman-3.jpg"],"#load-bgs #one"),page[2]={},page[2].name="content",page[2].id="#content",page[2].themes=[{name:"垃圾四部曲【陈辉阳作曲】",items:[{song:"《垃圾》",singer:"卢巧音"},{song:"《绝》",singer:"高雪岚（傅佩嘉）"},{song:"《漩涡》",singer:"彭羚/黄耀明"},{song:"《破相》",singer:"卢巧音"}]},{name:'"收皮"系列【Swing唱、作】',items:[{song:"《大大公司》",singer:"Swing"},{song:"《帝国大厦》",singer:"Swing"},{song:"《那边见》",singer:"Swing"}]},{name:"男玩五部曲【陈奕迅唱】",items:[{song:"《裙下之臣》",singer:"陈奕迅"},{song:"《葡萄成熟时》",singer:"陈奕迅"},{song:"《人车志》",singer:"陈奕迅"},{song:"《沙龙》",singer:"陈奕迅"},{song:"《陀飞轮》",singer:"陈奕迅"}]},{name:"男玩五部曲【何韵诗唱】",items:[{song:"《水花四溅》",singer:"何韵诗"},{song:"《沙》",singer:"何韵诗"},{song:"《木纹》",singer:"何韵诗"},{song:"《金刚经》",singer:"何韵诗"},{song:"《惹火》",singer:"何韵诗"}]},{name:"海陆空三部曲【官恩娜唱】",items:[{song:"《地平线》",singer:"官恩娜"},{song:"《暗恋航空》",singer:"官恩娜"},{song:"《千帆》",singer:"官恩娜"}]},{name:"性取向系列",items:[{song:"《光明会》",singer:"何韵诗"},{song:"《露丝玛丽》",singer:"何韵诗"},{song:"《再见...露丝玛丽》",singer:"何韵诗"},{song:"《劳诗·莱斯》",singer:"何韵诗"},{song:"《男孩像你》",singer:"何韵诗"},{song:"《查理淑仪》",singer:"何韵诗"}]},{name:"悲情三部曲【卢巧音唱 雷颂德作曲】",items:[{song:"《好心分手》",singer:"卢巧音"},{song:"《三角志》",singer:"卢巧音"},{song:"《落地开花》",singer:"卢巧音"}]},{name:"电影系列【收录于Shine《电影男孩》中】",items:[{song:"《祖与占》",singer:"Shine"},{song:"《燕尾蝶》",singer:"Shine"},{song:"《一一》",singer:"Shine"},{song:"《盗日者》",singer:"Shine"},{song:"《午夜快车》",singer:"Shine"}]},{name:"电视节目系列",items:[{song:"《欢乐今宵》",singer:"古巨基"},{song:"《妇女新知》",singer:"莫文蔚"},{song:"《瞬间看地球》",singer:"陈苑淇"},{song:"《星期五档案》",singer:"陈慧琳"},{song:"《跳飞机》",singer:"古巨基"},{song:"《再见穿梭机》",singer:"李克勤"}]}],page[2].init=function(){function e(){var e=page[2].themes;e.forEach(function(e){var n=document.createElement("li"),s=document.createElement("span"),t=document.createElement("ul");n.classList.add("theme-name"),n.innerHTML=e.name,s.classList.add("theme-tag-fold"),n.appendChild(s),e.items.forEach(function(e){var n=document.createElement("li");n.classList.add("theme-item"),n.innerHTML=e.song+" - "+e.singer,t.appendChild(n)}),n.appendChild(t),themeslists.appendChild(n)})}var n=document.querySelector("#content-next"),s=document.querySelector("#a-lyricist"),t=document.querySelector("#a-actor"),i=document.querySelector("#a-fashion"),a=document.querySelector(".sub-pages"),o=document.querySelectorAll(".sub-page"),r=document.querySelector(".sub-pages .return");originalPage=document.querySelector(".page"),themeslists=document.querySelector(".theme-items"),el=document.querySelector(page[2].id),e(),s.addEventListener("click",function(){originalPage.style.display="none",a.classList.remove("sub-pages-hide","page-actor","page-fashion"),a.classList.add("page-lyricist"),o[0].classList.add("sub-page-show")}),t.addEventListener("click",function(){originalPage.style.display="none",a.classList.remove("sub-pages-hide","page-lyricist","page-fashion"),a.classList.add("page-actor"),o[1].classList.add("sub-page-show")}),i.addEventListener("click",function(){originalPage.style.display="none",a.classList.remove("sub-pages-hide","page-actor","page-lyricist"),a.classList.add("page-fashion"),o[2].classList.add("sub-page-show")}),r.addEventListener("click",function(){originalPage.style.display="",o[0].classList.remove("sub-page-show"),o[1].classList.remove("sub-page-show"),o[2].classList.remove("sub-page-show"),a.classList.add("sub-pages-hide")}),n.addEventListener("click",function(){page[2].slideUp()})},page[2].slideUp=function(){var e=document.querySelector(this.id);e.classList.add("page-hide-up"),page[3].show()},page[2].slideDown=function(){var e=document.querySelector(this.id);e.classList.remove("page-hide-up")},page[3]={},page[3].name="final",page[3].id="#final",page[3].songlist=[{title:"燕尾蝶",singer:"Shine"},{title:"最佳损友",singer:"陈奕迅"},{title:"浮夸",singer:"陈奕迅"},{title:"喜帖街",singer:"谢安琪"},{title:"年度之歌",singer:"谢安琪"},{title:"罗生门",singer:"麦浚龙,谢安琪"},{title:"再见...露丝玛丽",singer:"何韵诗"},{title:"倾城",singer:"许美静"},{title:"可惜我是水瓶座",singer:"杨千嬅"},{title:"野孩子",singer:"杨千嬅"},{title:"你没有好结果",singer:"李蕙敏"},{title:"小王子",singer:"黄耀明"},{title:"垃圾",singer:"卢巧音"}],page[3].init=function(){function e(){page[3].songlist.forEach(function(e,n){var s=document.createElement("div");s.classList.add("commands-item"),s.dataset.id=n,s.innerHTML='<span class="commands-item-title">'+e.title+'</span><span class="commands-item-info">'+e.singer+'</span><span class="commands-item-tag">Wyman</span>',i.appendChild(s)})}var n=document.querySelector("#final .songlist"),s=document.querySelector("#final #canvas-final"),t=document.querySelector("#final .overlay"),i=document.querySelector("#final .commands"),a=document.querySelector("#final .button-return");i.addEventListener("click",function(e){var n,s,i=page[3].songlist;if(e.target.classList.contains("commands-item")||(n=e.target.parentNode),n){if(s=n.dataset.id,!i[s])return;var a=i[s];page[3].player.play("/audio/"+a.singer+"-"+a.title+".mp3"),page[3].setText(a.singer+"|"+a.title+"|Wyman☆"),t.classList.remove("overlay-visible")}}),n.addEventListener("click",function(){t.classList.toggle("overlay-visible")}),s.addEventListener("click",function(){t.classList.remove("overlay-visible")}),a.addEventListener("click",function(){t.classList.remove("overlay-visible"),page[3].player.stop(),page[2].slideDown(),page[1].slideDown()}),window.addEventListener("resize",function(){page[3].setText("")}),e()},page[3].show=function(){page[3].setText("黄伟文|热门单曲|Ready")},page[3].setText=shapeShifter,page[3].player=function(){function e(e){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){t.decodeAudioData(n.response,function(e){s(e)},function(e){})},n.send()}function n(){a&&a.stop(0)}function s(e){a&&a.disconnect(0),a=t.createBufferSource(),a.buffer=e,a.loop=!1,a.connect(t.destination),a.start(0)}try{window.AudioContext=window.AudioContext||window.webkitAudioContext;var t=new AudioContext}catch(i){return}var a=null;return{play:e,stop:n}}(),window.onload=function(){page[1].init(),page[1].anime.init(),page[2].init(),page[3].init(),setTimeout(function(){page[0].loaded(),page[1].anime.start(),page[1].bg.breath()},500)};