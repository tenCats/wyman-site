!function(t){function i(t,i,a){this.canvas=document.querySelector(i),this.ctx=this.canvas.getContext&&this.canvas.getContext("2d"),this.ctx&&(this.src=t||[],this.img=this.src[0],this.gap=a&&a.gap||7,this.img&&(this.dots=[],this.fillAlpha=1,this.fillColor="rgba(0,0,0,",this.imgHeight=0,this.imgWidth=0,this.interval,this.state=1,this.imgData=[]))}i.prototype.loadImage=function(){var t=new Image;t.onload=function(){this.onLoadImg(t)}.bind(this),t.src=this.img},i.prototype.onLoadImg=function(t){this._getImgData(t),this._getDots(),this._drawDots()},i.prototype._getImgData=function(t){this.canvas.width=this.imgWidth=t.width,this.canvas.height=this.imgHeight=t.height,this.ctx.drawImage(t,0,0),this.imgData=this.ctx.getImageData(0,0,this.imgWidth,this.imgHeight).data,this.ctx.clearRect(0,0,this.imgWidth,this.imgHeight)},i.prototype._getDots=function(){function t(t){var a=t[0]+t[1]+t[2];return c=i-~~(a/3/(250/(i-2))+2),c=c>i-3?c+2:c,c}var i=this.gap,a=this.imgWidth,h=this.imgHeight;this.dots=[];for(var s=3;a>s;s+=i)for(var e=3;h>e;e+=i){var r=[];r.push(this.imgData[4*(s+e*a)]),r.push(this.imgData[4*(s+e*a)+1]),r.push(this.imgData[4*(s+e*a)+2]);var o={x:s,y:e,r:t(r)};this.dots.push(o)}},i.prototype._drawDots=function(){function t(){i.ctx.clearRect(0,0,i.imgWidth,i.imgHeight),i.ctx.fillStyle=i.fillColor+i.fillAlpha+")";for(var t=0;t<i.dots.length;t++){var a=i.dots[t];i.ctx.beginPath(),i.ctx.arc(a.x,a.y,a.r/2,0,2*Math.PI),i.ctx.fill(),i.ctx.closePath()}}var i=this;t()},i.prototype.holdBreath=function(){clearInterval(this.interval),this.state=1,this.fillAlpha=1,this._drawDots()},i.prototype.breath=function(){this.loadImage();var t=this;clearInterval(this.interval),0==this.state?this.interval=setInterval(function(){t.fillAlpha+=.2,t._drawDots(),t.fillAlpha>1&&(t.state=1,t.breath())},50):1==this.state?this.interval=setInterval(function(){t.state=2,t.breath()},2e3):this.interval=setInterval(function(){if(t.fillAlpha+=-.1,t._drawDots(),t.fillAlpha<0){t.state=0;var i=t.src.indexOf(t.img),a=t.src.length;i+1==a?i=0:i+=1,t.img=t.src[i],t.loadImage(),t.breath()}},50)},t.pixelArt=i}(window);